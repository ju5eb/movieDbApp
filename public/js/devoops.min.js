"use strict";function LoadAjaxContent(e,t,n){t="undefined"!=typeof t?t:"#ajax-content",n="undefined"!=typeof n?n:".preloader",$(n).show(),$.ajax({mimeType:"text/html; charset=utf-8",url:e,type:"GET",success:function(e){$(t).html(e),$(n).hide()},error:function(e,t,n){alert(n)},dataType:"html",async:!1})}function SetMinBlockHeight(e){e.css("min-height",window.innerHeight-50)}function OpenModalBox(e,t,n){var a=$("#modalbox");a.find(".modal-header-name span").html(e),a.find(".devoops-modal-inner").html(t),a.find(".devoops-modal-bottom").html(n),a.fadeIn("fast"),$("body").addClass("body-expanded")}function CloseModalBox(){var e=$("#modalbox");e.fadeOut("fast",function(){e.find(".modal-header-name span").children().remove(),e.find(".devoops-modal-inner").children().remove(),e.find(".devoops-modal-bottom").children().remove(),$("body").removeClass("body-expanded")})}function CreateDataTable(){$("#datatable-1").dataTable({aaSorting:[[2,"desc"]],sDom:"<'box-content'<'col-sm-6'><'col-sm-6 text-right'l><'clearfix'>>rt<'box-content'<'col-sm-6'i><'col-sm-6 text-right'p><'clearfix'>>",sPaginationType:"bootstrap",oLanguage:{sSearch:"",sLengthMenu:"_MENU_"}})}function FillDataTable(e){var t=$("#datatable-1").dataTable();t.fnClearTable(),t.fnAddData(e),t.fnDraw()}function getAPIData(e,t){var n="http://api.themoviedb.org/3/",a="352dc2e4ed8183bd9fbd6f7c5e235f48",i=e+"/popular?api_key=";t&&(i="search/"+e+"?query="+t+"&api_key=");var o=n+i+a;console.log(o);var s=[];$.ajax({type:"GET",url:o,async:!1,contentType:"application/json",dataType:"jsonp",success:function(t){console.dir(t),$(t.results).each(function(t,n){if("movie"==e){{'"movies/view'+n.id+'"'}s.push([n.title,n.release_date,n.vote_average,n.vote_count])}else"person"==e&&s.push([n.id,n.name,n.popularity])}),FillDataTable(s)},error:function(e){console.log(e.message)}})}!function(e){e.fn.beautyTables=function(){var t=this,n=!1;this.on("keydown",function(a){var i=a.target,o=e(i).closest("tr"),s=e(i).closest("td");if("INPUT"==i.tagName.toUpperCase()){if(a.shiftKey===!0)switch(a.keyCode){case 37:s.prev().children("input[type=text]").focus();break;case 39:s.next().children("input[type=text]").focus();break;case 40:0==n&&o.next().find("td:eq("+s.index()+") input[type=text]").focus();break;case 38:0==n&&o.prev().find("td:eq("+s.index()+") input[type=text]").focus()}if(a.ctrlKey===!0)switch(a.keyCode){case 37:o.find("td:eq(1)").find("input[type=text]").focus();break;case 39:o.find("td:last-child").find("input[type=text]").focus();break;case 40:0==n&&t.find("tr:last-child td:eq("+s.index()+") input[type=text]").focus();break;case 38:0==n&&t.find("tr:eq(1) td:eq("+s.index()+") input[type=text]").focus()}(13==a.keyCode||9==a.keyCode)&&(a.preventDefault(),s.next().find("input[type=text]").focus()),0==n&&(34==a.keyCode&&(a.preventDefault(),t.find("tr:last-child td:last-child").find("input[type=text]").focus()),33==a.keyCode&&(a.preventDefault(),t.find("tr:eq(1) td:eq(1)").find("input[type=text]").focus()))}}),t.find("input[type=text]").each(function(){e(this).on("blur",function(n){var a=n.target,i=e(a).parents("td");1==t.find("input[name=string-fill]").prop("checked")&&i.nextAll().find("input[type=text]").each(function(){e(this).val(e(a).val())})})})}}(jQuery),function(e){e.fn.beautyHover=function(){var t=this;t.on("mouseover","td",function(){var t=e(this).index(),n=e(this).closest("table").find("tr");n.each(function(){e(this).find("td:eq("+t+")").addClass("beauty-hover")})}).on("mouseleave","td",function(){var t=e(this).index(),n=e(this).closest("table").find("tr");n.each(function(){e(this).find("td:eq("+t+")").removeClass("beauty-hover")})})}}(jQuery),$(document).ready(function(){$(".show-sidebar").on("click",function(){$("div#main").toggleClass("sidebar-show"),setTimeout(MessagesMenuWidth,250)});var e=location.hash.replace(/^#/,"");e.length<1&&(e="movies"),LoadAjaxContent(e),$(".main-menu").on("click","a",function(e){var t=$(this).parents("li"),n=$(this).closest("li.dropdown"),a=$(".main-menu li").not(t);if(a.find("a").removeClass("active"),a.find("a").removeClass("active-parent"),$(this).hasClass("dropdown-toggle")||0==$(this).closest("li").find("ul").length){$(this).addClass("active-parent");var i=$(this).next();i.is(":visible")?(n.find("ul.dropdown-menu").slideUp("fast"),n.find("ul.dropdown-menu a").removeClass("active")):(a.find("ul.dropdown-menu").slideUp("fast"),i.slideDown("fast"))}else if(n.find("a.dropdown-toggle").hasClass("active-parent")){var o=$(this).closest("ul.dropdown-menu");o.find("li.dropdown").not($(this).closest("li")).find("ul.dropdown-menu").slideUp("fast")}if(0==$(this).hasClass("active")&&($(this).parents("ul.dropdown-menu").find("a").removeClass("active"),$(this).addClass("active")),$(this).hasClass("ajax-link")){e.preventDefault(),$(this).hasClass("add-full")?$("#content").addClass("full-content"):$("#content").removeClass("full-content");var s=$(this).attr("href");window.location.hash=s,LoadAjaxContent(s)}"#"==$(this).attr("href")&&e.preventDefault()});var t=window.innerHeight-49;$("#main").css("min-height",t).on("click",".expand-link",function(e){var t=$("body");e.preventDefault();var n=$(this).closest("div.box"),a=$(this).find("i");a.toggleClass("fa-expand").toggleClass("fa-compress"),n.toggleClass("expanded"),t.toggleClass("body-expanded");var i=0;t.hasClass("body-expanded")&&(i=100),setTimeout(function(){n.toggleClass("expanded-padding")},i),setTimeout(function(){n.resize(),n.find("[id^=map-]").resize()},i+50)}).on("click",".collapse-link",function(e){e.preventDefault();var t=$(this).closest("div.box"),n=$(this).find("i"),a=t.find("div.box-content");a.slideToggle("fast"),n.toggleClass("fa-chevron-up").toggleClass("fa-chevron-down"),setTimeout(function(){t.resize(),t.find("[id^=map-]").resize()},50)}).on("click",".close-link",function(e){e.preventDefault();var t=$(this).closest("div.box");t.remove()}),$("body").on("click","a.close-link",function(e){e.preventDefault(),CloseModalBox()}),$("#top-panel").on("click","a",function(e){if($(this).hasClass("ajax-link")){e.preventDefault(),$(this).hasClass("add-full")?$("#content").addClass("full-content"):$("#content").removeClass("full-content");var t=$(this).attr("href");window.location.hash=t,LoadAjaxContent(t)}})});